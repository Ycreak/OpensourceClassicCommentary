<!-- I think this can be removed. -->
<script src="vendor/jquery/jquery.min.js"></script>
<script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">

<!-- Maybe we should get a local stylesheet? -->
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

<!-- NAVBAR -->
<mat-toolbar color="primary">
    <span><h3 class='h3-title'>Open Source Classics Commentary</h3></span>
    <span class="spacer"></span>
    <button mat-button class="btn" (click)="OpenBookSelect()">CHANGE TEXT</button>
    <button mat-button class="btn" (click)="OpenBibliography()">BIBLIOGRAPHY</button>
    <button mat-button class="btn" routerLink="/dashboard" *ngIf="this.authService.isLoggedIn">DASHBOARD</button>
    <mat-checkbox class="btn" [(ngModel)]="columnOneToggle">COL1</mat-checkbox>
    <mat-checkbox class="btn" [(ngModel)]="columnTwoToggle">COL2</mat-checkbox>
    <mat-checkbox class="btn" [(ngModel)]="columnThreeToggle">COL3</mat-checkbox>
    <mat-checkbox class="btn" [(ngModel)]="Playground">PLY</mat-checkbox>
    <mat-checkbox class="btn" [(ngModel)]="Multiplayer">MUL</mat-checkbox>
    <button mat-button class="btn" [matMenuTriggerFor]="menu">MENU</button>
</mat-toolbar>
<!-- NAVBAR MENU -->
<mat-menu #menu="matMenu">
    <button routerLink="/text" mat-menu-item>Text OSCC</button>
    <button (click)="OpenText()" mat-menu-item>Text Inside</button>
    <button (click)="Test('thing')" mat-menu-item>Test</button>

    <button (click)="Login()" mat-menu-item>Login</button>
    <button (click)="OpenAbout()" mat-menu-item>About</button>
    <button (click)="ngOnInit()" *ngIf="this.authService.isLoggedIn">Reload Data</button>

    <button mat-menu-item>V20.48.1</button>
</mat-menu>

<!-- Author and Book select dialog -->
<ng-template #CallBookSelect>   
    <h3>Select an author and a book to display.</h3>
    <hr>
    <mat-form-field>
        <mat-label>Select author</mat-label>
        <mat-select>
        <mat-option *ngFor="let author of this.authorsJSON" [value]="author" 
            (click)="this.RequestBooks(author.id)" 
            (click)="this.SetCurrentAuthorData(author)">
            {{ author.name }} 
        </mat-option>
        </mat-select>  
    </mat-form-field> 
    
    <mat-form-field>
        <mat-label>Select book</mat-label>
        <mat-select>
        <mat-option *ngFor="let book of this.booksJSON" [value]="book" 
            (click)="RequestEditors(book.id)"
            (click)="RequestFragments(book.id)"
            (click)="SetCurrentBookData(book)">
            {{ book.title }}                
        </mat-option>
        </mat-select>
    </mat-form-field>    
</ng-template>

<!-- Bibliography dialog to show the used bibliography -->
<ng-template #CallBibliography>   
    <h3>Bibliography for {{this.currentAuthorName}}: {{this.currentBookName}}</h3>
    <hr>
    <h4>Books</h4>
    <mat-nav-list class="bibList">
        <mat-list-item *ngFor="let line of this.bibBooks">
        <b>{{ line[1] }}</b> &nbsp; <i>{{ line[2] }}.</i> &nbsp; ({{ line[8] }}, {{ line[9] }}).
        </mat-list-item>
    </mat-nav-list>
    <hr>
    <h4>Articles</h4>
    <mat-nav-list class="bibList">
        <mat-list-item *ngFor="let line of this.bibArticles">
        <b>{{ line[1] }}</b> &nbsp; "{{ line[3] }}". In: &nbsp; <i>{{ line[4] }}</i> &nbsp; {{ line[5] }}, &nbsp; ({{ line[8] }}, {{ line[9] }}), {{ line[7] }}.
        </mat-list-item>
    </mat-nav-list>
    <hr>
    <h4>Websites</h4>
    <mat-nav-list class="bibList">
        <mat-list-item *ngFor="let line of this.bibWebsites">
        <b>{{ line[10] }}.</b> &nbsp; URL: {{ line[11] }} &nbsp; (visited on {{ line[12] }})
        </mat-list-item>
    </mat-nav-list>
</ng-template>

<!-- Show a spinner if query with database is in progress -->
<mat-progress-bar mode="query" *ngIf="this.spinner"></mat-progress-bar>
<br>

<!-- Container for the page: one row, two columns. Column Left has the text, Column Right the commentary. -->
<div class="container-fluid">
    <div class="row">
        <!-- 
         ______ _          _      _____      _                       
        |  ____(_)        | |    / ____|    | |                      
        | |__   _ _ __ ___| |_  | |     ___ | |_   _ _ __ ___  _ __  
        |  __| | | '__/ __| __| | |    / _ \| | | | | '_ ` _ \| '_ \ 
        | |    | | |  \__ \ |_  | |___| (_) | | |_| | | | | | | | | |
        |_|    |_|_|  |___/\__|  \_____\___/|_|\__,_|_| |_| |_|_| |_|
                                                                      -->                                                         
        <div *ngIf="columnOneToggle" class="col-sm overflowColumn">
            <!-- Information and Editor select -->
            <div class="row">
                <div class="col-6">
                <h4>{{this.currentAuthorName}}: {{this.currentBookName}}.</h4>
                </div>  
                <div class="col-6">
                <mat-form-field>
                    <mat-label>Main editor</mat-label>
                    <mat-select>
                    <mat-option *ngFor="let mainEditor of this.mainEditorsJSON" [value]="mainEditor.Name"
                    (click)="this.mainEditorArray = CreateEditorArray(mainEditor.id, this.F_Fragments)"
                    (click)="this.SetCurrentEditorData(mainEditor)">
                        {{ mainEditor.name }}                     
                    </mat-option>
                    </mat-select>
                    <mat-hint>Select a main editor</mat-hint>
                </mat-form-field>
            </div>
        </div>
        <!-- Fragments Loop -->
        <div class="fragment-list">
            <div class="fragment-box" *ngFor="let arrayItem of this.mainEditorArray" 
            (click)="this.Referencer = this.RequestReferencerID(arrayItem.fragmentName, this.currentEditor, this.currentBook)">
            <div>
                <b>Fragment {{arrayItem.fragmentName}} </b> &nbsp; <i>{{arrayItem.status}}</i>
            </div>
            <div *ngFor="let arrayItem2 of arrayItem.content">           
                <div [innerHTML]="arrayItem2.lineComplete"></div>             
            </div>     
            </div> 
        </div> 
        </div>

        <!--
         _____                          _    _____      _                       
        / ____|                        | |  / ____|    | |                      
       | (___   ___  ___ ___  _ __   __| | | |     ___ | |_   _ _ __ ___  _ __  
        \___ \ / _ \/ __/ _ \| '_ \ / _` | | |    / _ \| | | | | '_ ` _ \| '_ \ 
        ____) |  __/ (_| (_) | | | | (_| | | |___| (_) | | |_| | | | | | | | | |
       |_____/ \___|\___\___/|_| |_|\__,_|  \_____\___/|_|\__,_|_| |_| |_|_| |_|
        -->                                                                  
        <div *ngIf="columnTwoToggle" class="col-sm overflowColumn">
        <div class="row">
            <!-- Editor selection -->
            <div class="col-md-6">
                <mat-form-field class="input-form">
                    <mat-label>Secondary editor</mat-label>
                    <mat-select>
                    <mat-option *ngFor="let selectedEditor of this.editorsJSON" [value]="selectedEditor.id"
                    (click)="this.selectedEditorArray = CreateEditorArray(selectedEditor.id, this.F_Fragments)">
                        {{ selectedEditor.name }} 
                    </mat-option>
                    </mat-select>
                    <mat-hint>Select a secondary editor</mat-hint>
                </mat-form-field>
            </div>
            <!-- Adding note field -->
            <div class="col-md-6">
                <div mat-dialog-content>
                    <mat-form-field class="input-form">
                        <input matInput placeholder="Note" [(ngModel)]='note'>
                        <button type="button" mat-icon-button matSuffix (click)="this.noteArray = PopArray(this.noteArray)">
                            <mat-icon>{{'remove'}}</mat-icon>
                            </button>
                            <button type="button" mat-icon-button matSuffix (click)="this.noteArray = PushToArray(note, this.noteArray)">
                            <mat-icon>{{'add'}}</mat-icon>
                            </button>
                        <mat-hint>Add a note</mat-hint>
                    </mat-form-field>               
                </div> 
            </div>
        </div>
        <!-- Printing of notes -->
        <div *ngFor="let note of this.noteArray" class="note" cdkDrag>
            {{note}}
        </div>

        <!-- For loop for moveable fragments. Should be clickable. -->
        <div cdkDropList class="fragment-list" (cdkDropListDropped)="moveAndDrop($event)">
            <div class="fragment-box" *ngFor="let arrayItem of this.selectedEditorArray" cdkDrag>
            <div> 
                <!-- TODO: Show editor name behind fragment. Also, show its relation to the TRF. When clicked,
                load the commentaries for this fragment and that of the corresponding TRF fragment. -->
                <b>Frg {{arrayItem.fragmentName}}.</b> &nbsp; <i>{{arrayItem.status}}</i>.
            </div>
            <div *ngFor="let arrayItem2 of arrayItem.content">           
                <div [innerHTML]="arrayItem2.lineComplete"></div> 
            </div>  
            </div>
        </div>
        </div>
    

        <!--
         _____                                     _                      _____      _                       
        / ____|                                   | |                    / ____|    | |                      
       | |     ___  _ __ ___  _ __ ___   ___ _ __ | |_ __ _ _ __ _   _  | |     ___ | |_   _ _ __ ___  _ __  
       | |    / _ \| '_ ` _ \| '_ ` _ \ / _ \ '_ \| __/ _` | '__| | | | | |    / _ \| | | | | '_ ` _ \| '_ \ 
       | |___| (_) | | | | | | | | | | |  __/ | | | || (_| | |  | |_| | | |___| (_) | | |_| | | | | | | | | |
        \_____\___/|_| |_| |_|_| |_| |_|\___|_| |_|\__\__,_|_|   \__, |  \_____\___/|_|\__,_|_| |_| |_|_| |_|
                                                                  __/ |                                      
                                                                 |___/                                       
        -->
        <div *ngIf="columnThreeToggle" class="col-sm overflowColumn">
            <!-- Show here the commentary that is available for the COL2 clicked fragment -->
            <!-- <h4>Ribbeck 1 Commentary</h4> -->
            <!-- <div *ngFor="let item of this.F_Translation">
                <mat-expansion-panel>
                    <mat-expansion-panel-header>
                    <mat-panel-title>
                        <b>Fragment Translation</b>
                    </mat-panel-title>
                    </mat-expansion-panel-header>
                    <div class="mat-expansion-panel-content">
                    <div class="mat-expansion-panel-body">
                        <div [innerHTML]="item.translation"></div>
                    </div>
                    </div>
                </mat-expansion-panel>
            </div>
            <hr> -->

        <!-- Fragment information -->
        <h4>Fragment {{this.currentFragment}}</h4> <hr>
        <!-- Show banner if no commentary available -->
        <div *ngIf="this.noCommentary" class="alert alert-info" role="alert">
            No commentary is available for this fragment.
        </div>
        <!-- Show all the commentary fields -->
        <div *ngIf="this.noCommentary === false">
            <div *ngFor="let item of this.F_Translation">
                <mat-expansion-panel>
                    <mat-expansion-panel-header>
                    <mat-panel-title>
                        <b>Fragment Translation</b>
                    </mat-panel-title>
                    </mat-expansion-panel-header>
                    <!-- Commentary with HTML formatting. -->
                    <div class="mat-expansion-panel-content">
                    <div class="mat-expansion-panel-body">
                        <div [innerHTML]="item.translation"></div>
                    </div>
                    </div>
                </mat-expansion-panel>
            </div>
    
            <hr>
    
            <div *ngFor="let item of this.F_Apparatus">
                <mat-expansion-panel>
                    <mat-expansion-panel-header>
                    <mat-panel-title>
                        <b>Apparatus Criticus</b>
                    </mat-panel-title>
                    </mat-expansion-panel-header>
                    <div class="mat-expansion-panel-content">
                    <div class="mat-expansion-panel-body">
                        <div [innerHTML]=item.apparatus></div>
                    </div>
                    </div>
                </mat-expansion-panel>
            </div>
    
            <hr>
    
            <div *ngFor="let item of this.F_Differences">
                <mat-expansion-panel>
                    <mat-expansion-panel-header>
                    <mat-panel-title>
                        <b>Fragment Differences</b>
                    </mat-panel-title>
                    </mat-expansion-panel-header>
                    <div class="mat-expansion-panel-content">
                    <div class="mat-expansion-panel-body">
                        <div [innerHTML]="item.differences"></div>
                    </div>
                    </div>
                </mat-expansion-panel>
            </div>
    
            <hr>
    
            <div *ngFor="let item of this.F_Context">
                <mat-expansion-panel>
                    <mat-expansion-panel-header>
                    <mat-panel-title>
                        <b>Fragment Context</b>
                    </mat-panel-title>
                    <div [innerHTML]="item.contextAuthor"></div><div class="div-padding-sm"></div>
                    </mat-expansion-panel-header>
                    <div class="mat-expansion-panel-content">
                    <div class="mat-expansion-panel-body">
                        <div [innerHTML]="item.context"></div>
                    </div>
                    </div>
                </mat-expansion-panel>
            </div>
            
            <hr>
    
            <div *ngFor="let item of this.F_Commentary">
                <mat-expansion-panel>
                    <mat-expansion-panel-header>
                    <mat-panel-title>
                        <b>Fragment Commentary</b>
                    </mat-panel-title>
                    </mat-expansion-panel-header>
                    <div class="mat-expansion-panel-content">
                    <div class="mat-expansion-panel-body">
                        <div [innerHTML]="item.commentary"></div>
                    </div>
                    </div>
                </mat-expansion-panel>
            </div>
    
            <hr>
    
            <div *ngFor="let item of this.F_Reconstruction">
                <mat-expansion-panel>
                    <mat-expansion-panel-header>
                    <mat-panel-title>
                        <b>Fragment Reconstruction</b>
                    </mat-panel-title>
                    </mat-expansion-panel-header>
                    <div class="mat-expansion-panel-content">
                    <div class="mat-expansion-panel-body">
                        <div [innerHTML]="item.reconstruction"></div>
                    </div>
                    </div>
                </mat-expansion-panel>
            </div>
        </div>
        </div>




    </div>
    <!--
     _____  _                                             _ 
    |  __ \| |                                           | |
    | |__) | | __ _ _   _  __ _ _ __ ___  _   _ _ __   __| |
    |  ___/| |/ _` | | | |/ _` | '__/ _ \| | | | '_ \ / _` |
    | |    | | (_| | |_| | (_| | | | (_) | |_| | | | | (_| |
    |_|    |_|\__,_|\__, |\__, |_|  \___/ \__,_|_| |_|\__,_|
                     __/ | __/ |                            
                    |___/ |___/                             
    -->
    <div class="container-fluid" *ngIf="Playground">
        <div class="row">
            <!-- Possiblity to select an editor to begin with -->
            <mat-form-field class="select-form">
                <mat-label>Editor</mat-label>
                <mat-select [(ngModel)]="selectedEditor">
                <mat-option *ngFor="let data of this.editorsJSON" [value]="data"
                (click)="this.playgroundArray = CreateEditorArray(data.id, this.F_Fragments)"
                (click)="this.fragmentNumberList = GetFragmentNumbers(data.id, this.playgroundArray)">
                    {{ data.name }}                       
                </mat-option>
                </mat-select>
                <mat-hint>Select an editor to begin</mat-hint>
            </mat-form-field>
            <!-- Possiblity to select an editor to add a single fragment from  -->
            <mat-form-field class="select-form">
                <mat-label>Editor</mat-label>
                <mat-select [(ngModel)]="toAddEditor">
                <mat-option *ngFor="let data of this.editorsJSON" [value]="data"
                (click)="this.playgroundArray2 = CreateEditorArray(data.id, this.F_Fragments)"
                (click)="this.fragmentNumberList2 = GetFragmentNumbers(data.id, this.playgroundArray2)">
                    {{ data.name }}                       
                </mat-option>
                </mat-select>
                <mat-hint>Select an editor to add a fragment from</mat-hint>
            </mat-form-field>
            <!-- Possibility to select a fragment from given editor -->
            <mat-form-field class="select-form">
                <mat-label>Fragment</mat-label>
                <mat-select [(ngModel)]="selectedFragment">
                <mat-option *ngFor="let data of this.fragmentNumberList2" [value]="data"
                (click)="this.addedArray = AddFragmentToArray(this.addedArray, this.playgroundArray2, data)">
                    {{ data }} 
                </mat-option>
                </mat-select>
                <mat-hint>Select a fragment</mat-hint>
            </mat-form-field> 
            <!-- Possibility to add a little note -->
            <div mat-dialog-content>
                <mat-form-field class="input-form">
                    <input matInput placeholder="Add fragment" [(ngModel)]='note'>
                    <button type="button" mat-icon-button matSuffix (click)="this.noteArray = PopArray(this.noteArray)">
                        <mat-icon>{{'remove'}}</mat-icon>
                      </button>
                      <!-- <button type="button" mat-icon-button matSuffix (click)="this.noteArray = PushToArray(note, this.noteArray)"> -->
                      <button type="button" mat-icon-button matSuffix (click)="this.noteArray = CreateOwnFragment(note, this.noteArray)">

                        
                        <mat-icon>{{'add'}}</mat-icon>
                      </button>
                    <mat-hint>Add own fragment</mat-hint>
                </mat-form-field>               
            </div>  
        </div>

        <hr>
        <!-- For loop to print all the base selected fragments -->
        <div class="row">
            <div *ngFor="let arrayItem of this.playgroundArray" class="playground" cdkDrag (cdkDragEnded)="OnDragEnded($event)">
                <b>Fragment {{arrayItem.fragmentName}}</b> &nbsp; <i>{{arrayItem.status}}</i>
                <div *ngFor="let item of arrayItem.content">           
                    <div [innerHTML]="item.lineComplete"></div>
                </div> 
            </div>
        </div>

        <hr>
        <!-- For loop to print the added fragments -->
        <div class="row">
            <div *ngFor="let arrayItem of this.addedArray" class="playground" cdkDrag>
                <b>(Added) Fragment {{arrayItem.fragmentName}}</b> &nbsp; <i>{{arrayItem.status}}</i>
                <div *ngFor="let item of arrayItem.content">           
                    <div [innerHTML]="item.lineComplete"></div>
                </div> 
            </div>
        </div>
        
        <hr>
        <!-- For loop to print the notes -->
        <div class="row">
            <div *ngFor="let arrayItem of this.noteArray" class="playground" cdkDrag>
                <b>(Added) Fragment {{arrayItem.fragmentName}}</b> &nbsp; <i>{{arrayItem.status}}</i>
                <div *ngFor="let item of arrayItem.content">           
                    <div [innerHTML]="item.lineComplete"></div>
                </div> 
            </div>
        </div>
    </div>
    <!--
     __  __       _ _   _       _                       
    |  \/  |     | | | (_)     | |                      
    | \  / |_   _| | |_ _ _ __ | | __ _ _   _  ___ _ __ 
    | |\/| | | | | | __| | '_ \| |/ _` | | | |/ _ \ '__|
    | |  | | |_| | | |_| | |_) | | (_| | |_| |  __/ |   
    |_|  |_|\__,_|_|\__|_| .__/|_|\__,_|\__, |\___|_|   
                        | |             __/ |          
                        |_|            |___/            -->
    <div class="container-fluid" *ngIf="Multiplayer">
        <div class="row">
            <!-- Possibility to select an editor base text -->
            <mat-form-field class="select-form">
                <mat-label>Editor</mat-label>
                <mat-select [(ngModel)]="selectedEditor">
                <mat-option *ngFor="let data of this.editorsJSON" [value]="data"
                (click)="this.editorListData = CreateEditorArray(data.id, this.F_Fragments)">                 
                {{ data.name }}                       
                </mat-option>
                </mat-select>
                <mat-hint>Select an editor to use</mat-hint>
            </mat-form-field>
            <!-- Possibility to create one's own fragment -->
            <div mat-dialog-content>
                <mat-form-field class="input-form-wide">
                    <textarea class="input-form-wide" matInput type="text" [(ngModel)]='fragment' [matKeyboard]="'OSCC'"></textarea>

                    <button type="button" mat-icon-button matSuffix (click)="this.clientListData = PopArray(this.clientListData)">
                        <mat-icon>{{'remove'}}</mat-icon>
                      </button>
                      <button type="button" mat-icon-button matSuffix (click)="this.clientListData = CreateOwnFragment(fragment, this.clientListData)">
                        <mat-icon>{{'add'}}</mat-icon>
                      </button>
                    <mat-hint>Add your own piece of commentary</mat-hint>
                </mat-form-field>               
            </div> 
            <div mat-dialog-content>
                <mat-form-field class="input-form-wide">
                    <input class="input-form-wide" matInput type="text" [(ngModel)]='fragment2' [matKeyboard]="'OSCC'">

                    <button type="button" mat-icon-button matSuffix (click)="this.clientListData = PopArray(this.clientListData)">
                        <mat-icon>{{'remove'}}</mat-icon>
                      </button>
                      <button type="button" mat-icon-button matSuffix (click)="CreateFirebaseEntry(fragment2)">
                        <mat-icon>{{'add'}}</mat-icon>
                      </button>
                    <mat-hint>Add your own piece of multiplayer</mat-hint>
                </mat-form-field>               
            </div> 

            
            <!-- <button mat-button class="button" (click)="this.myCommentary = CopyObject(this.ourCommentary)">Copy Our Commentary to My Commentary</button>
            <button mat-button class="button" (click)="this.ourCommentary = myCommentary">Copy My Commentary to Our Commentary</button> -->
            <!-- Buttons for server communications -->
            <button mat-button class="button" (click)="RequestPushOurCommentary()">Push to server</button>
            <button mat-button class="button" (click)="this.ourCommentary = RequestPushOurCommentary()">Pull from server</button>
            
            <button mat-button class="button" (click)="DeleteFirebaseEntry()">Delete Firebase</button>
            <button mat-button class="button" (click)="FirebaseTest()">Test</button>

            
        </div>

        <hr>      
            <!-- List to show the multiplayer commentary -->
            <div class="multiplayer-container">
                <h3>Our Commentary</h3>
              
                <div
                  cdkDropList
                  #serverList="cdkDropList"
                  [cdkDropListData]="serverListData"
                  [cdkDropListConnectedTo]="[clientList, editorList]"
                  class="multiplayer-list"
                  (cdkDropListDropped)="MultipleColumnsDrag($event)">
                  <div class="fragment-box" *ngFor="let arrayItem of this.serverListData" cdkDrag><div>
                    <b>Frg {{arrayItem.fragmentName}}</b> &nbsp; <i>{{arrayItem.status}}</i>
                </div>
                <div *ngFor="let arrayItem2 of arrayItem.content">           
                    <div [innerHTML]="arrayItem2.lineComplete"></div> 
                </div>  
                </div>  
                </div>
              </div>
          <!-- </div> -->

              <!-- List to show one's own commentary. Also placeholder list -->
              <div class="multiplayer-container">
                <h3>My Commentary</h3>
              
                <div
                  cdkDropList
                  #clientList="cdkDropList"
                  [cdkDropListData]="clientListData"
                  [cdkDropListConnectedTo]="[serverList, editorList]"
                  class="multiplayer-list"
                  (cdkDropListDropped)="MultipleColumnsDrag($event)">
                  <!-- <div class="example-box" *ngFor="let item of myCommentary" cdkDrag>{{item}}</div> -->
                  <div class="fragment-box" *ngFor="let arrayItem of this.clientListData" cdkDrag><div>
                      <b>Frg {{arrayItem.fragmentName}}</b> &nbsp; <i>{{arrayItem.status}}</i>
                  </div>
                  <div *ngFor="let arrayItem2 of arrayItem.content">           
                      <div [innerHTML]="arrayItem2.lineComplete"></div> 
                  </div>  
                  </div>                                
                </div>
              </div>
              <!-- List to show an editor's base text -->
              <div class="multiplayer-container">
                <h3>Selected Commentary</h3>
              
                <div
                  cdkDropList
                  #editorList="cdkDropList"
                  [cdkDropListData]="editorListData"
                  [cdkDropListConnectedTo]="[serverList, clientList]"
                  class="multiplayer-list"
                  (cdkDropListDropped)="MultipleColumnsDrag($event)">
                  <div class="fragment-box" *ngFor="let arrayItem of this.editorListData" cdkDrag><div>
                    <b>Frg {{arrayItem.fragmentName}}</b> &nbsp; <i>{{arrayItem.status}}</i>
                </div>
                <div *ngFor="let arrayItem2 of arrayItem.content">           
                    <div [innerHTML]="arrayItem2.lineComplete"></div> 
                </div>  
                </div>                 
                
                
                </div>




              </div>

              <hr>
              <div class="multiplayer-container">
                <h3>1 Commentary</h3>
              <div
              cdkDropList
              #serverList3="cdkDropList"
              [cdkDropListData]="this.myArray"
              [cdkDropListConnectedTo]="[serverList2, editorList]"
              class="multiplayer-list"
              (cdkDropListDropped)="MultipleColumnsDrag2($event)">
              <div class="fragment-box" *ngFor="let item of this.myArray" cdkDrag><div>
                <div [innerHTML]="item.content"></div> 
            </div>
            <!-- <div *ngFor="let item2 of item.content">           
            </div>   -->
            </div>  
            </div></div>
            <div class="multiplayer-container">
                <h3>2 Commentary</h3>
            <div
            cdkDropList
            #serverList2="cdkDropList"
            [cdkDropListData]="this.tempArray"
            [cdkDropListConnectedTo]="[serverList3, editorList]"
            class="multiplayer-list"
            (cdkDropListDropped)="MultipleColumnsDrag2($event)">
            <div class="fragment-box" *ngFor="let item of this.tempArray" cdkDrag><div>
              <div [innerHTML]="item.content"></div> 
          </div>
          <!-- <div *ngFor="let item2 of item.content">           
          </div>   -->
          </div>  
          </div></div>  

              <ul>
                <li class="text" *ngFor="let item of items | async">
                  {{item.content}}
                </li>
              </ul>

    </div>  


</div>
    
    
    